(this["webpackJsonpreact-hook"]=this["webpackJsonpreact-hook"]||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),l=n.n(c),i=n(28),o=(n(82),n(149)),u=n(65),s=n.n(u),m=n(137),f=n(140),d=n(142),b=n(143),p=n(144),h=n(145),E=n(138);function v(e){var t=e.children,n=e.window,a=Object(m.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return r.a.cloneElement(t,{elevation:a?4:0})}var y=Object(E.a)((function(e){return{root:{minHeight:60,marginBottom:e.spacing(2),padding:0}}})),O=function(e){var t=y();return r.a.createElement(v,Object.assign({},e,{className:t.root}),r.a.createElement(f.a,{position:"sticky"},r.a.createElement(d.a,null,r.a.createElement(b.a,null,r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,xs:4},r.a.createElement(h.a,{color:"inherit",component:i.b,to:"/"},"About")),r.a.createElement(p.a,{item:!0,xs:4},r.a.createElement(h.a,{color:"inherit",component:i.b,to:"/game"},"Game")),r.a.createElement(p.a,{item:!0,xs:4},r.a.createElement(h.a,{color:"inherit",component:i.b,to:"/winners"},"Winners")))))))},g=n(26),j=n(27),w=n(16),N=n(11),k=function(e){return Math.round(Math.random()*e)};n(88);var x=function(e){var t=e.currentIndex,n=e.isPlay,c=e.setWinner,l=e.field,i=e.delay,o=e.playerName,u=Math.pow(l,2),s=Object(a.useState)([]),m=Object(w.a)(s,2),f=m[0],d=m[1],b=Object(a.useRef)(null),p=function(e,t){d((function(n){var a=Object(N.a)(n);return a[e]=t,Object(N.a)(a)}))},h=function(e){return f.filter((function(t){return t&&t===e})).length};Object(a.useEffect)((function(){return n||(d([]),clearTimeout(b.current)),function(){return clearTimeout(b.current)}}),[n]),Object(a.useEffect)((function(){var e;p(t,"blue"),e=function(){p(t,"red")},b.current=setTimeout(e,i)}),[t]),Object(a.useEffect)((function(){h("green")>u/2&&(c(o),clearTimeout(b.current)),h("red")>u/2&&(c("computer"),clearTimeout(b.current))}),[l,f,c]);var E=(310-2*l)/l;return r.a.createElement("div",{className:"field",style:{width:310}},Array(u).fill("").map((function(e,n){return r.a.createElement("div",{className:f[n]?"ceil ".concat(f[n]):"ceil",style:{width:E,height:E},key:"".concat(n+Date.now()),onClick:function(){return function(e){t===e&&(clearTimeout(b.current),p(e,"green"))}(n)},role:"button"})})))},C=n(152),I=n(153),P=n(146),D=n(150),T=n(151),A=Object(E.a)((function(e){return{formControl:{display:"flex",flexDirection:"row",justifyContent:"space-between",margin:e.spacing(2)},select:{marginTop:e.spacing(2),minWidth:220},botton:{display:"inline-block",minWidth:120}}})),W=function(e){var t=e.option,n=e.isDisabled,c=e.buttonName,l=e.handleCancel,i=e.start,o=A(),u=Object(a.useState)(""),s=Object(w.a)(u,2),m=s[0],f=s[1],d=Object(a.useState)(""),b=Object(w.a)(d,2),p=b[0],E=b[1];return r.a.createElement(P.a,{className:o.formControl},r.a.createElement(I.a,{id:"select-label"},"Check game's level"),r.a.createElement(D.a,{className:o.select,labelId:"select-label",id:"select-label",value:m,onChange:function(e){return f(e.target.value)}},r.a.createElement(C.a,{value:"Check game's level"}),t&&Object.entries(t).map((function(e){return r.a.createElement(C.a,{value:e[1],key:e[0]},e[0])}))),r.a.createElement(T.a,{id:"standard-basic",label:"Enter your name",value:p,onChange:function(e){return E(e.target.value)}}),r.a.createElement(h.a,{className:o.button,variant:"contained",color:"primary",onClick:function(){return i(m,p)},disabled:n},c),r.a.createElement(h.a,{className:o.button,variant:"contained",color:"secondary",onClick:l},"Cansel"))};n(89);var S=function(){var e=Object(a.useState)({buttonName:"Play",isDisabled:!1,isPlay:!1,currentIndex:-1,winner:null,currentOption:{field:4,delay:2e3},playerName:"player"}),t=Object(w.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(null),i=Object(w.a)(l,2),o=i[0],u=i[1],s=Object(a.useRef)(null),m=n.currentOption,f=m.field,d=m.delay,b=function(e){if(Array.isArray(e)){-1!==n.currentIndex&&c(Object(j.a)({},n,{currentIndex:-1,winner:null})),c(Object(j.a)({},n,{isDisabled:!0,winner:null}));var t,a=0;t=function(){c((function(t){return Object(j.a)({},t,{currentIndex:e[a]})})),a+=1},s.current=setInterval(t,d)}};Object(a.useEffect)((function(){fetch("https://starnavi-frontend-test-task.herokuapp.com/game-settings").then((function(e){return e.json()})).then((function(e){return u(e)})).catch((function(e){return console.log(e.message)}))}),[]),Object(a.useEffect)((function(){n.winner&&(clearInterval(s.current),c((function(e){return Object(j.a)({},e,{buttonName:"Play again",isDisabled:!1,isPlay:!1})})))}),[n.winner]),Object(a.useEffect)((function(){return n.isPlay&&b(function(e,t){for(var n=t||e,a=Array(e).fill("").map((function(e,t){return t})),r=[],c=0;c<n;c+=1){var l=k(a.length-1);r=[].concat(Object(N.a)(r),Object(N.a)(a.splice(l,1)))}return r}(Math.pow(f,2))),function(){return clearInterval(s.current)}}),[n.isPlay]);var p=n.isDisabled,h=n.currentIndex,E=n.isPlay,v=n.buttonName,y=n.winner,O=n.playerName;return r.a.createElement("div",{className:"App"},r.a.createElement(W,{isDisabled:p,buttonName:v,handleCancel:function(){clearInterval(s.current),c(Object(j.a)({},n,{isPlay:!1,isDisabled:!1}))},start:function(e,t){return c(Object(j.a)({},n,{isPlay:!0,currentOption:e,playerName:t}))},option:o}),y&&r.a.createElement("p",null," \u041f\u043e\u0431\u0435\u0434\u0438\u043b ",y," "),r.a.createElement(x,{currentIndex:h,isPlay:E,setWinner:function(e){return c(Object(j.a)({},n,{winner:e}))},playerName:O,field:f,delay:d}))},M=function(){return r.a.createElement("div",null,"'Winnerlist'")},B=function(){return r.a.createElement("div",null,"About Game")},z=function(){return r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/",exact:!0,component:B}),r.a.createElement(g.b,{path:"/game",component:S}),r.a.createElement(g.b,{path:"/winners",component:M}),r.a.createElement(g.a,{to:"/"}))},G=s()({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{htmlFontSize:16,useNextVariants:!0,fontSize:12}});var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{theme:G},r.a.createElement(O,null),r.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,n){e.exports=n(109)},82:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){}},[[77,1,2]]]);
//# sourceMappingURL=main.93b5fe5f.chunk.js.map